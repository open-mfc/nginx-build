(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8bcd22fa","chunk-2d0bdb17"],{"2ca1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-chart",{attrs:{forceFit:!0,height:t.height,data:t.chartData,scale:t.scale}},[a("v-tooltip"),a("v-axis",{attrs:{"data-key":t.dataKey,label:t.labelFormat}}),a("v-legend"),a("v-line",{attrs:{position:t.dataKey+"*"+t.dataValue,size:2,color:t.dataColor,adjust:"stack"}}),a("v-stack-area",{attrs:{position:t.dataKey+"*"+t.dataValue,color:t.dataColor}})],1)],1)},r=[],o={props:{chartData:{type:Array,default:[]},dataKey:{type:String,default:"year"},dataValue:{type:String,default:"value"},dataColor:{type:String,default:"country"},isFormat:{type:Boolean,default:!0}},data:function(){return{scale:[{}],height:400,style:{stroke:"#fff",lineWidth:1}}},computed:{labelFormat:function(){var t=this;return{textStyle:{fill:"#aaaaaa"},formatter:function(e){return t.isFormat?(e=e.substring(4),e.substr(0,2)+"-"+e.substr(2,2)):e}}}}},i=o,l=a("2877"),d=Object(l["a"])(i,n,r,!1,null,null,null);e["default"]=d.exports},"4e37":function(t,e,a){"use strict";var n=a("6d18"),r=a.n(n);r.a},"6ced":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{attrs:{bordered:!1}},[a("div",{attrs:{id:"components-form-demo-advanced-search"}},[a("a-form",{staticClass:"ant-advanced-search-form",attrs:{form:t.form},on:{submit:t.handleSearch}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"日期"}},[a("a-range-picker",{on:{change:t.onChange}},[a("template",{slot:"renderExtraFooter"},[t._v("可选区间30天")])],2)],1)],1),a("a-col",{attrs:{span:8}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("搜索")]),a("a-button",{style:{marginLeft:"8px"},on:{click:function(){return t.queryParam={}}}},[t._v("重置")]),a("a",{style:{marginLeft:"8px",fontSize:"12px"},on:{click:t.toggle}},[t._v("\n            高级搜索\n            "),a("a-icon",{attrs:{type:t.expand?"up":"down"}})],1)],1),a("a-col",{attrs:{span:8}},[a("span",[t._v("默认展示最近7天的数据")])])],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{style:{display:t.count?"block":"none"},attrs:{span:8}},[a("a-form-item",{attrs:{label:"媒体"}},[a("a-select",{model:{value:t.queryParam.mediaChannel,callback:function(e){t.$set(t.queryParam,"mediaChannel",e)},expression:"queryParam.mediaChannel"}},[a("a-select-option",{attrs:{value:""}},[t._v("全部")]),a("a-select-option",{attrs:{value:"平台"}},[t._v("平台")]),a("a-select-option",{attrs:{value:"搜索"}},[t._v("搜索")]),a("a-select-option",{attrs:{value:"原生"}},[t._v("原生")]),a("a-select-option",{attrs:{value:"硬广"}},[t._v("硬广")]),a("a-select-option",{attrs:{value:"图文信息流"}},[t._v("图文信息流")]),a("a-select-option",{attrs:{value:"视频信息流"}},[t._v("视频信息流")])],1)],1)],1),a("a-col",{style:{display:t.count?"block":"none"},attrs:{span:8}},[a("a-form-item",{attrs:{label:"平台"}},[a("a-input",{attrs:{placeholder:"联展平台ID"},model:{value:t.queryParam.nexId,callback:function(e){t.$set(t.queryParam,"nexId",e)},expression:"queryParam.nexId"}})],1)],1),a("a-col",{style:{display:t.count?"block":"none"},attrs:{span:8}},[a("a-form-item",{attrs:{label:"线索类型"}},[a("a-input",{attrs:{placeholder:"类型ID"},model:{value:t.queryParam.outType,callback:function(e){t.$set(t.queryParam,"outType",e)},expression:"queryParam.outType"}})],1)],1),a("a-col",{style:{display:t.count?"block":"none"},attrs:{span:8}},[a("a-form-item",{attrs:{label:"品牌"}},[a("a-input",{attrs:{placeholder:"品牌ID"},model:{value:t.queryParam.brand,callback:function(e){t.$set(t.queryParam,"brand",e)},expression:"queryParam.brand"}})],1)],1)],1)],1)],1),a("my-Chart",{attrs:{chartData:t.chartData,dataKey:"year"}}),a("s-table",{ref:"table",attrs:{columns:t.columns,data:t.loadData,bordered:"",size:"middle",scroll:{}},scopedSlots:t._u([{key:"notConnectCountRatio",fn:function(e){return a("span",{},[a("ellipsis",{attrs:{length:5,tooltip:""}},[t._v(t._s(e))])],1)}}])})],1)},r=[],o=(a("a481"),a("28a5"),a("2af9")),i=a("e01a"),l=(a("ca00"),a("2ca1")),d=[{title:"日期",dataIndex:"dateTime",width:110},{hide:!1,dataIndex:"totalCount",fixed:!1,title:"线索总数",width:80,sortOrder:!0},{hide:!1,dataIndex:"downCount",fixed:!1,title:"发放线索",sortOrder:!0,children:[{hide:!1,dataIndex:"oneDown",fixed:!1,title:"唯一",width:80,sortOrder:!0},{hide:!1,dataIndex:"repeatDown",fixed:!1,title:"重复",width:80,sortOrder:!0}]},{hide:!1,dataIndex:"downRatio",fixed:!1,title:"发放率",width:0},{hide:!1,dataIndex:"invalidCount",fixed:!1,title:"无效线索",sortOrder:!0,children:[{hide:!1,dataIndex:"invalidBlack",fixed:!1,title:"黑名单",width:80,sortOrder:!0},{hide:!1,dataIndex:"invalidBrand",fixed:!1,title:"品牌重复",width:80,sortOrder:!0},{hide:!1,dataIndex:"invalidWater",fixed:!1,title:"疑似灌水",width:80,sortOrder:!0},{hide:!1,dataIndex:"feebackInvalid",fixed:!1,title:"回访无效",width:80,sortOrder:!0}]},{hide:!1,dataIndex:"invalidRatio",fixed:!1,title:"无效率",width:0,sortOrder:!0},{hide:!1,dataIndex:"invalidFeebackCount",fixed:!1,title:"无效反馈数",width:100,sortOrder:!0},{hide:!1,dataIndex:"feebackRatio",fixed:!1,title:"反馈率",width:0,sortOrder:!0},{hide:!1,dataIndex:"feebackPass",fixed:!1,title:"回访有效数",width:100,sortOrder:!0},{hide:!1,dataIndex:"notInvalidRatio",fixed:!1,title:"线索有效率",width:0,sortOrder:!0}],u={name:"clue-out-feeback-list",components:{STable:o["q"],Ellipsis:o["g"],MyChart:l["default"]},data:function(){var t=this;return{expand:!1,form:this.$form.createForm(this),chartData:[],queryParam:{},columns:d,loadData:function(e){return Object(i["getDayCount"])(Object.assign(e,t.queryParam)).then(function(e){for(var a=[],n=0;n<e.data.length;n++){var r=e.data[n];r.dateTime=(r.clueYear+"-"+r.clueMonth+"-"+r.clueDay).split("-").map(function(t){return t.length<=1?"0".concat(t):t}).join("-"),r.downRatio=((r.oneDown+r.repeatDown)/r.totalCount*100).toFixed(2)+"%",r.invalidCount=r.invalidBlack+r.invalidBrand+r.invalidWater,r.invalidRatio=(r.invalidCount/r.totalCount*100).toFixed(2)+"%",r.invalidFeebackCount=r.feebackInvalid+r.feebackPass,r.feebackRatio=(r.invalidFeebackCount/(0==r.invalidCount?1:r.invalidCount)*100).toFixed(2)+"%",r.notInvalidRatio=((r.oneDown+r.repeatDown-r.feebackInvalid)/r.totalCount*100).toFixed(2)+"%";var o=r.dateTime.replace(/-/g,"");a.push({country:"线索总数",year:o,value:r.totalCount},{country:"发放线索",year:o,value:r.oneDown+r.repeatDown},{country:"无效线索",year:o,value:r.invalidCount},{country:"反馈线索",year:o,value:r.invalidFeebackCount},{country:"有效线索",year:o,value:r.oneDown+r.repeatDown-r.feebackInvalid})}return t.chartData=a.reverse(),e})}}},computed:{count:function(){return this.expand}},methods:{handleSearch:function(t){t.preventDefault(),this.form.validateFields(function(t,e){console.log("error",t),console.log("Received values of form: ",e)})},handleReset:function(){window.location.href=window.location.href,this.form.resetFields()},onChange:function(t,e){e&&(this.queryParam.clueTime=e.join(","),","!=this.queryParam.clueTime)||delete this.queryParam.clueTime},toggle:function(){this.expand=!this.expand},handleChange:function(t){console.log("selected ".concat(t))}}},c=u,s=(a("4e37"),a("2877")),f=Object(s["a"])(c,n,r,!1,null,null,null);e["default"]=f.exports},"6d18":function(t,e,a){},e01a:function(t,e,a){"use strict";a.d(e,"e",function(){return r}),a.d(e,"g",function(){return o}),a.d(e,"f",function(){return i}),a.d(e,"i",function(){return l}),a.d(e,"h",function(){return d}),a.d(e,"b",function(){return u}),a.d(e,"a",function(){return c}),a.d(e,"d",function(){return s}),a.d(e,"c",function(){return f});var n=a("b775");function r(t){return Object(n["b"])({url:"/clueoutfeeback/GetHourCount",method:"get",params:t})}function o(t){return Object(n["b"])({url:"/clueoutfeeback/GetMediaCount",method:"get",params:t})}function i(t){return Object(n["b"])({url:"/clueoutfeeback/MediaColunms",method:"get",params:t})}function l(t){return Object(n["b"])({url:"/clueoutfeeback/GetNexCount",method:"get",params:t})}function d(t){return Object(n["b"])({url:"/clueoutfeeback/NexColunms",method:"get",params:t})}function u(t){return Object(n["b"])({url:"/clueoutfeeback/GetBrandCount",method:"get",params:t})}function c(t){return Object(n["b"])({url:"/clueoutfeeback/BrandColunms",method:"get",params:t})}function s(t){return Object(n["b"])({url:"/clueoutfeeback/GetDateCount",method:"get",params:t})}function f(t){return Object(n["b"])({url:"/clueoutfeeback/DateColunms",method:"get",params:t})}}}]);