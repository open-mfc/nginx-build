(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8de8cdf6"],{"88e2":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"components-form-demo-advanced-search"}},[a("a-form",{staticClass:"ant-advanced-search-form",attrs:{form:t.form},on:{submit:t.handleSearch}},[a("a-range-picker",{style:{width:"256px"},model:{value:t.defaultDate,callback:function(e){t.defaultDate=e},expression:"defaultDate"}},[a("template",{slot:"renderExtraFooter"},[t._v("可选区间90天")])],2),a("a-input",{staticStyle:{width:"120px"},attrs:{placeholder:"账户ID"},model:{value:t.queryParam.accountIds,callback:function(e){t.$set(t.queryParam,"accountIds",e)},expression:"queryParam.accountIds"}}),a("a-select",{staticStyle:{width:"120px",marginTop:"'8px'"},attrs:{placeholder:"媒体产品"},on:{dropdownVisibleChange:function(e){return t.loadSelectDataCrmClass(22643)}},model:{value:t.queryParam.MediaProduct,callback:function(e){t.$set(t.queryParam,"MediaProduct",e)},expression:"queryParam.MediaProduct"}},t._l(t.pageData.crm22643,function(e){return a("a-select-option",{key:e.key,attrs:{value:e.value,title:e.name}},[t._v(t._s(e.name))])}),1),a("a-select",{staticStyle:{width:"120px",marginTop:"'8px'"},attrs:{placeholder:"异常处理状态"},model:{value:t.queryParam.handleStatus,callback:function(e){t.$set(t.queryParam,"handleStatus",e)},expression:"queryParam.handleStatus"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("待处理")]),a("a-select-option",{attrs:{value:"2"}},[t._v("已标记")]),a("a-select-option",{attrs:{value:"3"}},[t._v("已解除")])],1),a("a-input-search",{staticStyle:{width:"120px"},attrs:{placeholder:"标签ID"},model:{value:t.queryParam.tagId,callback:function(e){t.$set(t.queryParam,"tagId",e)},expression:"queryParam.tagId"}}),a("a-button",{style:{marginLeft:"8px"},attrs:{type:"primary"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("搜索")]),a("a-button",{style:{marginLeft:"8px"},on:{click:function(){return t.queryParam={}}}},[t._v("重置")]),a("a-row",{style:{display:t.count?"block":"none"},attrs:{gutter:24}},[a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"搜索"}})],1)],1)],1)],1),a("s-table",{ref:"table",attrs:{orignColumns:t.columns,data:t.loadData,scroll:{x:110},pageSize:20,bordered:"",size:"middle"},scopedSlots:t._u([{key:"notConnectCountRatio",fn:function(e){return a("span",{},[a("ellipsis",{attrs:{length:5,tooltip:""}},[t._v(t._s(e))])],1)}},{key:"handleStatus",fn:function(e){return a("span",{staticClass:"table-operation"},[a("span",1==e?[t._v("待处理")]:2==e?[t._v("已标记")]:[t._v("已解除")])])}}])})],1)},n=[],o=(a("28a5"),a("bd86")),s=a("2af9"),i=a("b775");function c(t){return Object(i["b"])({url:"/ErrorAccount",method:"get",params:t})}function u(t){return Object(i["b"])({url:"/ErrorAccount/Colunms",method:"get",params:t})}var l,m=a("b35f"),d=a("c1df"),h=a.n(d),f={name:"clue-out-txid-list",components:{STable:s["n"],Ellipsis:s["e"]},data:function(){var t=this;return{dateFormat:"YYYYMMDD",pageData:{thisAccount:{},employeeData:[],mccData:[],crm21446:[],crm22643:[],crm20337:[],crm22625:[],crm22547:[],crm20025:[],socketDrawer:[]},otherParam:{sectionDay:-1,isRefreshData:!1,isMonitorTime:!1,startDayTime:"",endDayTime:"",isOneDayTime:!1},expand:!1,form:this.$form.createForm(this),queryParam:{accountId:-1,startTime:"",endTime:""},columns:[],loadData:function(e){return c(Object.assign(e,t.queryParam)).then(function(t){return t})},defaultDate:[]}},watch:(l={},Object(o["a"])(l,"queryParam.accountId",function(t){this.$refs.table.refresh(!0)}),Object(o["a"])(l,"defaultDate",function(t){if(0!=t.length)return this.queryParam.startTime=t[0].format(this.dateFormat),this.queryParam.endTime=t[1].format(this.dateFormat),void(this.otherParam.startDayTime==this.otherParam.endDayTime&&(this.otherParam.isOneDayTime=!0));delete this.queryParam.startTime,delete this.queryParam.endTime}),l),beforeRouteEnter:function(t,e,a){a(function(e){e.init.call(e,t)}),a()},beforeRouteUpdate:function(t,e,a){this.init.call(this,t),a()},created:function(){var t=this;u().then(function(e){e.success&&(t.columns=e.data)})},computed:{count:function(){return this.expand}},methods:{moment:h.a,timeSearch:function(t){this.defaultDate=this.generatorDate(t,new Date(this.otherParam.startDayTime)),this.$refs.table.refresh(!0)},generatorDate:function(t,e){e||(e=new Date),this.otherParam.sectionDay=t;var a=getSectionTime(t,e).split(",");return this.queryParam.startTime=a[0],this.queryParam.endTime=a[1],[this.moment(a[0],this.dateFormat),this.moment(a[1],this.dateFormat)]},init:function(t){t.query.accountId&&(this.queryParam.accountId=t.query.accountId,this.$refs.table.refresh(!0))},handleSearch:function(t){t.preventDefault(),this.form.validateFields(function(t,e){console.log("error",t),console.log("Received values of form: ",e)})},loadSelectDataCrmClass:function(t){var e=this;0==this.pageData["crm"+t].length&&Object(m["a"])({ParentId:t}).then(function(a){a.data&&a.data.length>0&&(e.pageData["crm"+t]=a.data)})},toggle:function(){this.expand=!this.expand},handleSearchKeyword:function(t){this.handleSearchKeywordByType(t,1)},handleSearchQuery:function(t){this.handleSearchKeywordByType(t,2)}}},p=f,y=(a("d67b"),a("2877")),b=Object(y["a"])(p,r,n,!1,null,null,null);e["default"]=b.exports},b35f:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var r=a("b775");function n(t){return Object(r["b"])({url:"/crmClass",method:"get",params:t})}},d67b:function(t,e,a){"use strict";var r=a("e11f"),n=a.n(r);n.a},e11f:function(t,e,a){}}]);