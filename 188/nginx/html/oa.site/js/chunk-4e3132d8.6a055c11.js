(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e3132d8","chunk-2d0c426a"],{"3a39":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page"},[t.breadcrumb>0?r("a-breadcrumb",[r("a-breadcrumb-item",[r("router-link",{attrs:{to:{path:"/account"}}},[t._v("推广运营")])],1),t.breadcrumb>=1?r("a-breadcrumb-item",[r("router-link",{attrs:{to:{path:"/plan",query:t.accountQuery}}},[t._v("账户|"+t._s(t.accountQuery.accountName))])],1):t._e(),t.breadcrumb>=2?r("a-breadcrumb-item",[r("router-link",{attrs:{to:{path:"/unit",query:t.planQuery}}},[t._v("计划|"+t._s(t.planQuery.planName))])],1):t._e(),t.breadcrumb>=3?r("a-breadcrumb-item",[t._v("\n      单元|"+t._s(t.unitQuery.unitName)+"\n    ")]):t._e()],1):t._e(),t._t("default")],2)},n=[],o=(r("6762"),r("2fdb"),r("ac6a"),r("456d"),r("cebc")),u=r("2f62"),i={data:function(){return{}},computed:Object(o["a"])({},Object(u["e"])({query:function(t){return t.permission.popBreadcrumb}}),{breadcrumb:function(){var t=Object.keys(this.query).filter(function(t){return["account","plan","unit"].includes(t)});return t.length},accountQuery:function(){return this.getUrlParams("account")},planQuery:function(){return this.getUrlParams("plan")},unitQuery:function(){return this.getUrlParams("unit")}}),create:function(){},methods:{getUrlParams:function(t){var e=this;if(!t)return{};if(0===Object.keys(this.query).length)return{};var r={account:["account","accountName"],plan:["account","plan","accountName","planName"],unit:["account","plan","unit","accountName","planName","unitName"]},a={};return r[t].forEach(function(t){(e.query[t]||0===e.query[t])&&(a[t]=e.query[t])}),console.log(a),a}}},s=i,c=r("2877"),l=Object(c["a"])(s,a,n,!1,null,null,null);e["default"]=l.exports},"732a":function(t,e,r){"use strict";r.d(e,"c",function(){return n}),r.d(e,"d",function(){return o}),r.d(e,"e",function(){return u}),r.d(e,"f",function(){return i}),r.d(e,"i",function(){return s}),r.d(e,"j",function(){return c}),r.d(e,"g",function(){return l}),r.d(e,"h",function(){return d}),r.d(e,"a",function(){return m}),r.d(e,"b",function(){return y}),r.d(e,"k",function(){return f});var a=r("b775");function n(t){return Object(a["b"])({url:"/KeywordSummary/GetKeywordQueryWater",method:"get",params:t})}function o(t){return Object(a["b"])({url:"/KeywordSummary/KeywordQueryWaterColunms",method:"get",params:t})}function u(t){return Object(a["b"])({url:"/KeywordSummary/GetKeywordWater",method:"get",params:t})}function i(t){return Object(a["b"])({url:"/KeywordSummary/KeywordWaterColunms",method:"get",params:t})}function s(t){return Object(a["b"])({url:"/KeywordSummary/GetUnit",method:"get",params:t})}function c(t){return Object(a["b"])({url:"/KeywordSummary/UnitColunms",method:"get",params:t})}function l(t){return Object(a["b"])({url:"/KeywordSummary/GetPlan",method:"get",params:t})}function d(t){return Object(a["b"])({url:"/KeywordSummary/PlanColunms",method:"get",params:t})}function m(t){return Object(a["b"])({url:"/KeywordSummary/GetAccount",method:"get",params:t})}function y(t){return Object(a["b"])({url:"/KeywordSummary/AccountColunms",method:"get",params:t})}function f(t){return Object(a["b"])({url:"/SEMKeyword/GetKeywordSearch",method:"get",params:t})}},9963:function(t,e,r){},a62b:function(t,e,r){"use strict";var a=r("9963"),n=r.n(a);n.a},cbb5:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-header-index-wide"},[r("a-card",{attrs:{bordered:!1,"body-style":{padding:"0"}}},[r("div",{staticClass:"salesCard"},[r("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[r("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[r("div",{staticClass:"extra-item"},[r("a",{on:{click:function(){return t.defaultDate=t.generatorDate(-1,new Date(t.otherParam.startTime))}}},[t._v("上一天")]),r("a",{on:{click:function(){return t.defaultDate=t.generatorDate(1,new Date(t.otherParam.endTime))}}},[t._v("下一天")]),r("a",{on:{click:function(){return t.defaultDate=t.generatorDate(-1)}}},[t._v("昨天")]),r("a",{on:{click:function(){return t.defaultDate=t.generatorDate(-7)}}},[t._v("近一周")]),r("a",{on:{click:function(){return t.defaultDate=t.generatorDate(-30)}}},[t._v("近一月")])]),r("a-range-picker",{style:{width:"256px"},model:{value:t.defaultDate,callback:function(e){t.defaultDate=e},expression:"defaultDate"}})],1),r("a-tab-pane",{key:"1",attrs:{tab:t.$route.query.title}})],1)],1)]),r("div",{staticClass:"antd-pro-pages-dashboard-analysis-twoColLayout"},[r("s-table",{ref:"keywordQueryWaterTable",attrs:{orignColumns:t.keywordQueryWaterColumns,data:t.loadKeywordQueryWaterData,scroll:{x:110},pageSize:20,bordered:"",size:"middle"},scopedSlots:t._u([{key:"notConnectCountRatio",fn:function(e){return r("span",{},[r("ellipsis",{attrs:{length:5,tooltip:""}},[t._v(t._s(e))])],1)}},{key:"brandName",fn:function(e,a){return r("span",{},[r("router-link",{attrs:{to:{path:"/Analysis/Clue/"+a.brandId+"/BrandDetail",query:{brandid:a.brandId,title:e+"-线索分析"}}}},[t._v(t._s(e))])],1)}}])}),r("s-table",{ref:"accountTable",attrs:{orignColumns:t.accountColumns,data:t.loadAccountData,scroll:{x:110},pageSize:20,bordered:"",size:"middle"},scopedSlots:t._u([{key:"notConnectCountRatio",fn:function(e){return r("span",{},[r("ellipsis",{attrs:{length:5,tooltip:""}},[t._v(t._s(e))])],1)}},{key:"brandName",fn:function(e,a){return r("span",{},[r("router-link",{attrs:{to:{path:"/Analysis/Clue/"+a.brandId+"/BrandDetail",query:{brandid:a.brandId,title:e+"-线索分析"}}}},[t._v(t._s(e))])],1)}}])}),r("s-table",{ref:"planTable",attrs:{orignColumns:t.planColumns,data:t.loadPlanData,scroll:{x:110},pageSize:20,bordered:"",size:"middle"},scopedSlots:t._u([{key:"notConnectCountRatio",fn:function(e){return r("span",{},[r("ellipsis",{attrs:{length:5,tooltip:""}},[t._v(t._s(e))])],1)}},{key:"brandName",fn:function(e,a){return r("span",{},[r("router-link",{attrs:{to:{path:"/Analysis/Clue/"+a.brandId+"/BrandDetail",query:{brandid:a.brandId,title:e+"-线索分析"}}}},[t._v(t._s(e))])],1)}}])}),r("s-table",{ref:"unitTable",attrs:{orignColumns:t.unitColumns,data:t.loadUnitData,scroll:{x:110},pageSize:20,bordered:"",size:"middle"},scopedSlots:t._u([{key:"notConnectCountRatio",fn:function(e){return r("span",{},[r("ellipsis",{attrs:{length:5,tooltip:""}},[t._v(t._s(e))])],1)}},{key:"brandName",fn:function(e,a){return r("span",{},[r("router-link",{attrs:{to:{path:"/Analysis/Clue/"+a.brandId+"/BrandDetail",query:{brandid:a.brandId,title:e+"-线索分析"}}}},[t._v(t._s(e))])],1)}}])})],1)],1)},n=[],o=(r("a481"),r("28a5"),r("2af9")),u=r("732a"),i=r("c1df"),s=r.n(i),c=r("ca00"),l=r("3a39"),d={name:"clue-out-txid-list",components:{STable:o["n"],Ellipsis:o["e"],PageView:l["default"]},data:function(){var t=this;return{dateFormat:"YYYY-MM-DD",dateIntFormat:"YYYYMMDD",dateJsFormat:"yyyyMMdd",keywordQueryWaterColumns:[],accountColumns:[],planColumns:[],unitColumns:[],queryParam:{startTime:"",endTime:""},otherParam:{sectionDay:-1,isMonitorTime:!1,startDayTime:"",endDayTime:""},columns:[],loadKeywordQueryWaterData:function(e){return console.log("water",JSON.stringify(t.queryParam)),Object(u["c"])(Object.assign(e,t.queryParam)).then(function(t){return t})},loadAccountData:function(e){return console.log("account",JSON.stringify(t.queryParam)),Object(u["a"])(Object.assign(e,t.queryParam)).then(function(t){return t})},loadPlanData:function(e){return console.log("plan",t.queryParam),Object(u["g"])(Object.assign(e,t.queryParam)).then(function(t){return t})},loadUnitData:function(e){return console.log("unit",t.queryParam),Object(u["i"])(Object.assign(e,t.queryParam)).then(function(t){return t})},defaultDate:[]}},watch:{defaultDate:function(t){if(0!=t.length)return this.otherParam.startTime=t[0].format(this.dateFormat),this.otherParam.endTime=t[1].format(this.dateFormat),this.queryParam.startTime=t[0].format(this.dateIntFormat),this.queryParam.endTime=t[1].format(this.dateIntFormat),void(this.otherParam.isMonitorTime&&this.initHandle(this.otherParam.sectionDay));delete this.queryParam.startTime,delete this.queryParam.endTime}},beforeRouteEnter:function(t,e,r){r(function(e){e.otherParam.isMonitorTime=!1,e.init.call(e,t)}),r()},beforeRouteUpdate:function(t,e,r){this.otherParam.isMonitorTime=!1,this.init.call(this,t),r()},created:function(){var t=this;Object(u["d"])().then(function(e){e.success&&(t.keywordQueryWaterColumns=e.data)}),Object(u["b"])().then(function(e){e.success&&(t.accountColumns=e.data)}),Object(u["h"])().then(function(e){e.success&&(t.planColumns=e.data)}),Object(u["j"])().then(function(e){e.success&&(t.unitColumns=e.data)})},computed:{count:function(){return this.expand}},methods:{moment:s.a,init:function(t){var e=this;delete this.queryParam.onlyKeywordId,delete this.queryParam.onlyQuerywordId,t.query.onlyKeywordId&&(this.queryParam.onlyKeywordId=t.query.onlyKeywordId),t.query.onlyQuerywordId&&(this.queryParam.onlyQuerywordId=t.query.onlyQuerywordId),this.defaultDate=this.generatorDate(-1),setTimeout(function(){e.otherParam.isMonitorTime=!0},1e3)},initHandle:function(t){1==this.otherParam.isMonitorTime&&(this.$refs.keywordQueryWaterTable.refresh(!0),this.$refs.accountTable.refresh(!0),this.$refs.planTable.refresh(!0),this.$refs.unitTable.refresh(!0))},generatorDate:function(t,e){e||(e=new Date),this.otherParam.sectionDay=t;var r=Object(c["d"])(t,e).split(",");return this.queryParam.startTime=r[0].replace(/-/g,""),this.queryParam.endTime=r[1].replace(/-/g,""),[this.moment(r[0],this.dateFormat),this.moment(r[1],this.dateFormat)]},handleSearch:function(t){t.preventDefault(),this.form.validateFields(function(t,e){console.log("error",t),console.log("Received values of form: ",e)})},toggle:function(){this.expand=!this.expand},handleSearchKeyword:function(t){this.handleSearchKeywordByType(t,1)},handleSearchQuery:function(t){this.handleSearchKeywordByType(t,2)},handleSearchKeywordByType:function(t,e){var r=this,a=/[\u4E00-\u9FA5\uF900-\uFA2D]/,n=/[0-9]/;(a.test(t)||n.test(t))&&(a.test(t)&&(t=t.replace(/[0-9]/g,"").replace("[]","").replace(/[a-zA-Z]/g,"")),this.otherParam.keyupValue[this.otherParam.keyupValue.length-1]!=t&&(this.otherParam.keyupValue.push(t),setTimeout(function(){getSEMKeywordSearch({keyword:r.otherParam.keyupValue[r.otherParam.keyupValue.length-1].replace(/ /g,"")}).then(function(t){var a=t.data.map(function(t){return{keywordId:t.keywordId,keyword:"["+t.keywordId+"]"+t.keyword}});switch(e){case 1:r.otherParam.keywordSource=a;break;case 2:r.otherParam.querySource=a;break}for(var n=r.otherParam.keyupValue.length-1;n>=0;n--)n>0&&r.otherParam.keyupValue.splice(0,1)})},1e3)))}}},m=d,y=(r("a62b"),r("2877")),f=Object(y["a"])(m,a,n,!1,null,"2fa337c2",null);e["default"]=f.exports}}]);