(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9575272c"],{"243a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-row",[n("a-col",{attrs:{span:18,push:6}},[n("a-card",{attrs:{bordered:!1}},[e._v("额鹅鹅鹅")])],1),n("a-col",{attrs:{span:6,pull:18}},[n("a-row",{attrs:{gutter:18}},[n("a-col",{attrs:{span:17}},[n("a-input-search",{staticStyle:{"margin-bottom":"8px"},attrs:{placeholder:"搜索名称"},on:{change:e.onChange},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),n("a-col",{attrs:{span:1}},[n("a-button",{attrs:{type:"dashed",shape:"circle",icon:"reload"},on:{click:e.reloadTreeList}})],1)],1),n("a-tree",{staticClass:"tree-menu",attrs:{expandedKeys:e.expandedKeys,autoExpandParent:e.autoExpandParent,treeData:e.treeData,draggable:"",checkable:""},on:{expand:e.onExpand,drop:e.onDrop,select:e.onSelect,check:e.onCheck},scopedSlots:e._u([{key:"title",fn:function(t){var a=t.title;return[a.indexOf(e.searchValue)>-1?n("span",[e._v("\n            "+e._s(a.substr(0,a.indexOf(e.searchValue)))+"\n            "),n("span",{staticStyle:{color:"#f50"}},[e._v(e._s(e.searchValue))]),e._v("\n            "+e._s(a.substr(a.indexOf(e.searchValue)+e.searchValue.length))+"\n          ")]):n("span",[e._v(e._s(a))])]}}])})],1)],1)],1)},r=[],o=n("a745"),c=n.n(o);function i(e){if(c()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var s=n("774e"),u=n.n(s),l=n("c8bb"),d=n.n(l);function h(e){if(d()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return u()(e)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(e){return i(e)||h(e)||p()}n("ac6a"),n("c5f6"),n("28a5"),n("2af9");var v=n("b775");function b(e){return Object(v["b"])({url:"/NewMenu/GetTreeList",method:"get",params:e})}var g=[],x=[],y=function e(t){for(var n=0;n<t.length;n++){var a=t[n],r=a.key,o=a.title;x.push({key:r,title:o}),a.children&&e(a.children,a.key)}};y(g);function k(e){return e.map(function(e){return e.scopedSlots={title:"title"},e.children&&(e.children=k(e.children)),e})}var m={data:function(){return{expandedKeys:[],searchValue:"",autoExpandParent:!0,treeData:g}},created:function(){this.getTreeList()},methods:{onExpand:function(e){this.expandedKeys=e,this.autoExpandParent=!1},reloadTreeList:function(){this.searchValue="",this.getTreeList()},getTreeList:function(){var e=this;b({}).then(function(t){y(t.data),e.treeData=k(t.data)})},onChange:function(e){this.treeData;var t=e.target.value,n=/[\u4E00-\u9FA5\uF900-\uFA2D]/;if(n.test(t)){var a=x.map(function(e){return e.title.indexOf(t)>-1?e.key:null}).filter(function(e,t,n){return e&&n.indexOf(e)===t});Object.assign(this,{expandedKeys:a,searchValue:t,autoExpandParent:!0})}},onCheck:function(e){console.log("onCheck",e),this.checkedKeys=e},onSelect:function(e,t){console.log("onSelect",t),this.selectedKeys=e},onDrop:function(e){var t=this;this.$confirm({title:"拖拽菜单?",content:"真的要拖拽到该菜单下么",onOk:function(){t.onDropFun(e)},onCancel:function(){}})},onDropFun:function(e){var t,n=e.node.eventKey,a=e.dragNode.eventKey,r=e.node.pos.split("-"),o=e.dropPosition-Number(r[r.length-1]),c=function e(t,n,a){t.forEach(function(t,r,o){return t.key===n?a(t,r,o):t.children?e(t.children,n,a):void 0})},i=f(this.treeData);if(c(i,a,function(e,n,a){a.splice(n,1),t=e}),e.dropToGap)if((e.node.children||[]).length>0&&e.node.expanded&&1===o)c(i,n,function(e){e.children=e.children||[],e.children.unshift(t)});else{var s,u;c(i,n,function(e,t,n){s=n,u=t}),-1===o?s.splice(u,0,t):s.splice(u+1,0,t)}else c(i,n,function(e){e.children=e.children||[],e.children.push(t)});this.treeData=i}}},w=m,D=(n("bb43"),n("2877")),_=Object(D["a"])(w,a,r,!1,null,"049d315e",null);t["default"]=_.exports},"774e":function(e,t,n){e.exports=n("d2d5")},"9a59":function(e,t,n){},bb43:function(e,t,n){"use strict";var a=n("9a59"),r=n.n(a);r.a},c8bb:function(e,t,n){e.exports=n("54a1")}}]);